<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/lightFav.png" media="(prefers-color-scheme: light)">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/darkFav.png" media="(prefers-color-scheme: dark)">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./src/styles/style.css">
    <link rel="stylesheet" href="./src/styles/home.css">
    <link rel="stylesheet" href="./src/styles/animation.css">
    <link rel="stylesheet" href="./src/styles/skeleton.css">
    <link rel="stylesheet" href="./src/styles/bookDetailed.css">
    <!-- Using self-hosted Apfel Grotezk from /public/fonts -->
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdn.jsdelivr.net/npm/@phosphor-icons/web@2.1.1/src/regular/style.css"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
    <title>Read Book | Unreader</title>
  </head>
  <body>
    <!-- Boot skeleton overlay: shows and animates before CSS/JS load -->
    <div id="bootSkeleton" class="skeletonLoadingMainBook" style="position:absolute;top:8rem;left:50%;transform:translateX(-50%);width:min(650px,calc(100vw - 32px));display:flex;flex-direction:column;gap:10px;z-index:2147483647;">
      <div class="sk-line"></div>
      <div class="sk-line"></div>
      <div class="sk-line"></div>
      <div class="sk-line"></div>
      <div class="sk-line"></div>
      <div class="sk-line"></div>
      <div class="sk-line"></div>
      <div class="sk-line"></div>
      <div class="sk-line"></div>
      <div class="sk-line"></div>
      <div class="sk-line"></div>
      <div class="sk-line"></div>
      <div class="sk-line"></div>
      <div class="sk-line"></div>
      <div class="sk-line"></div>
      <div class="sk-line"></div>
      <div class="sk-line"></div>
      <div class="sk-line"></div>
      <div class="sk-line"></div>
      <div class="sk-line"></div>
      <div class="sk-line"></div>
      <div class="sk-line"></div>
      <div class="sk-line"></div>
      <div class="sk-line"></div>
      <div class="sk-line"></div>
      <div class="sk-line"></div>
      <div class="sk-line"></div>
      <div class="sk-line"></div>
      <div class="sk-line"></div>
      <div class="sk-line"></div>
      <div class="sk-line"></div>
      <div class="sk-line"></div>
      <div class="sk-line"></div>
      <div class="sk-line"></div>
      <div class="sk-line"></div>
      <div class="sk-line"></div>
      <div class="sk-line"></div>
      <div class="sk-line"></div>
      <div class="sk-line"></div>
      <div class="sk-line"></div>
    </div>
    <style>
      /* Inline shimmer for boot skeleton */
      #bootSkeleton .sk-line { position: relative; width: 100%; height: 36px; border-radius: 8px; overflow: hidden; background: #ececec; }
      #bootSkeleton .sk-line::before { content:""; position:absolute; inset:0; background:linear-gradient(90deg,#e0e0e0,#f0f0f0,#e0e0e0); background-size:200% 100%; animation:boot-shimmer 1.2s infinite; }
      @keyframes boot-shimmer { 0%{ background-position:200% 0 } 100%{ background-position:-200% 0 } }
    </style>
    <script>
      // Ensure no browser restores scroll and enable our initializing UI state
      try { if ('scrollRestoration' in history) history.scrollRestoration = 'manual'; } catch {}
      try {
        document.documentElement.classList.add('js');
        // Support both spellings to match any existing code paths
        document.body.classList.add('initializing');
        document.body.classList.add('initialising');
      } catch {}
    </script>
    <div id="app">
        <nav>
            <a href="/home.html">
                <div class="logoContainer">
                    <div class="sleep">z</div>
                    <h2 class="logo">º/º</h2>
                </div>
            </a>
            <div class="links">
                <a href="account.html">Account</a>
            </div>
        </nav>
    </div>
    <div class="main">
      <div class="bottomControl">
        <!-- Book cover banner intentionally hidden (handled by Media Session) -->
        <div class="controls">
          <div class="settings control">
            <i class="ph ph-gear"></i>
          </div>
          <div class="rewind control">
            <i class="ph ph-arrow-arc-left"></i>
          </div>
          <div class="playButton control">
            <i class="ph ph-play"></i>
          </div>
          <div class="forward control">
            <i class="ph ph-arrow-arc-right"></i>
          </div>
          <div class="read-along control active">
            <i class="ph ph-read-cv-logo"></i>
          </div>
        </div>
        <div class="holdup-wrapper">
          <div class="hold-up">
          <svg class="blue" width="37" height="33" viewBox="0 0 37 33" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M31.7102 22.2942C17.5363 21.5442 12.407 7.86544 11.614 1.11984C-9.87206 -3.19165 3.84983 18.1846 19.1486 30.6891C26.4725 36.6753 45.884 23.0443 31.7102 22.2942Z" fill="#2EE1FF"/>
          </svg>                              

          <svg class="lightYellow" width="35" height="21" viewBox="0 0 35 21" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M27.1775 11.7656C9.84728 14.867 5.74686 5.46769 5.86297 0.38043C-2.9168 2.88011 -0.228645 15.0507 16.583 20.8809C24.6312 23.6719 44.5077 8.66415 27.1775 11.7656Z" fill="#FED972"/>
          </svg>            

          <svg class="yellow" width="29" height="31" viewBox="0 0 29 31" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M20.0148 5.1128C18.8318 17.0633 7.07198 20.8686 1.33998 21.2774C-3.13643 39.2701 15.462 28.5007 26.6234 16.0549C31.9666 10.0967 21.1979 -6.83769 20.0148 5.1128Z" fill="#FBCB04"/>
          </svg>                  
          </div>
          <div class="holdup-menu" aria-label="Holdup mode">
            <div class="control option option-voice active" data-mode="voice" title="Voice">
              <i class="ph ph-user-sound"></i>
            </div>
            <div class="control option option-chat" data-mode="chat" title="Chat">
              <i class="ph ph-chat-teardrop-dots"></i>
            </div>
          </div>
        </div>
      </div>

      <div class="settingsDialog">
        <div class="playBack settingsOption">
          <div class="slider"></div>
          <div class="thumb">
            <i class="ph ph-speedometer iconSettings speedIcon"></i>
            <div class="value">1.0</div>
          </div>
        </div>
        <!-- Add these inside your settingsOption divs -->
        <div class="output settingsOption" id="output-device">
          <i class="ph ph-speaker-high iconSettings"></i>
          <select class="device-select"></select>
          <i class="ph ph-caret-down iconSettings"></i>
        </div>

        <div class="input settingsOption" id="input-device">
          <i class="ph ph-microphone iconSettings"></i>
          <select class="device-select"></select>
          <i class="ph ph-caret-down iconSettings"></i>
        </div>
      </div>

      <div id="heightSetter" class="heightSetter">
        <svg width="18" height="45" viewBox="0 0 18 45" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M7 3C7 1.34315 8.34315 0 10 0H18V45H10C8.34315 45 7 43.6569 7 42V34.6071C7 34.0469 6.84313 33.4979 6.54717 33.0222L0.986164 24.0849C0.38239 23.1146 0.38239 21.8854 0.986164 20.9151L6.54717 11.9778C6.84313 11.5021 7 10.9531 7 10.3929V3Z" fill="#373737"/>
          <line x1="15.5" y1="3.5" x2="15.5" y2="41.5" stroke="white" stroke-linecap="round"/>
        </svg>
      </div>

    <div class="heightSetterInfo onboardingInterfaceDetailed">
      <div class="mainOnboardingContent">
        <p>adjust this to change the <br> height at which autoscroll <br> happens</p>
        <button class="closeOnboarding">oohhh</button>
      </div>
      <div class="arrowInfo">
        <svg width="44" height="35" viewBox="0 0 44 35" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M2.80485 9.90511C2.59534 14.4567 2.38588 19.0083 2.17637 23.5599C1.97635 23.619 1.77633 23.6781 1.57636 23.7373C1.20911 22.7839 0.550919 21.839 0.522372 20.8755C0.348356 15.001 0.264469 9.12233 0.266448 3.24515C0.267206 1.0485 1.1437 0.300015 3.04132 1.02325C7.12447 2.57956 11.1285 4.35147 15.1127 6.15059C15.6832 6.40824 16.3898 7.38906 16.2936 7.89432C16.0642 9.09907 14.9313 8.92846 14.0389 8.64124C12.3967 8.11262 10.7881 7.47938 9.16287 6.89729C8.11658 6.52255 7.0655 6.16103 5.58245 6.29194C6.64959 8.02066 7.54674 9.88666 8.81247 11.4551C15.581 19.8426 23.9308 26.2544 33.6882 30.8006C36.7224 32.2143 39.9433 33.0389 43.5902 32.528C42.6622 34.6564 41.0142 35.1704 39.3075 34.8754C36.7204 34.4283 34.0605 33.9272 31.6706 32.8954C21.1978 28.374 12.5929 21.3903 5.58223 12.4175C4.88219 11.5215 4.21061 10.6033 3.52581 9.6954C3.28546 9.76527 3.04515 9.83519 2.80485 9.90511Z" fill="black"/>
        </svg>
      </div>
    </div>

      <div class="leftControls">
        <div class="mainControls">
          <div class="whiteboardControls">
            <div class="w-control cursor active">
              <i class="ph ph-cursor"></i>
            </div>
            <div class="w-control highlighter">
              <i class="ph ph-highlighter"></i>
            </div>
            <div class="w-control pencil">
              <i class="ph ph-pencil"></i>
            </div>
            <div class="w-control text">
              <i class="ph ph-text-t"></i>
            </div>
            <div class="w-control line">
              <i class="ph ph-minus"></i>
            </div>
            <div class="w-control arrow">
              <i class="ph ph-arrow-up-right"></i>
            </div>
            <div class="w-control eraser">
              <i class="ph ph-eraser"></i>
            </div>
            <div class="w-control rectangle">
              <i class="ph ph-rectangle"></i>
            </div>
            <div class="w-control circle">
              <i class="ph ph-circle"></i>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="inbox">
      <div class="inboxIcon">
        <i class="ph ph-mailbox"></i>
      </div>
      <div class="inboxCount">
        <span class="count">2</span>
      </div>
    </div>

    <!-- Floating Thoughts button (bottom-right) -->
    <div class="thoughtsFab" title="Thoughts">
      <div class="thoughtsIcon">
        <i class="ph ph-note-pencil"></i>
      </div>
    </div>

    <!-- Thoughts popup (right side, similar to Inbox) -->
    <div class="thoughtsPopup" aria-hidden="true">
      <div class="topSectionThoughts">
        <h4 class="headingThoughts">Thoughts</h4>
        <div class="wordsThoughts"><span class="wordAmountThought">0</span> words</div>
      </div>
      <div class="thoughtsBody">
        <textarea class="thoughtsInput" placeholder="this book made me think..."></textarea>
      </div>
    </div>

    <div class="inboxPopup">
      <div class="topSectionInbox">
        <h4 class="headingInbox">Talk with the team at Unreader</h4>
        <p class="descriptionInbox">ai is cool. but some talks are just better human-to-human</p>
      </div>

      <div class="messages">
        <div class="message">
          <p class="messageDetails">
            <span class="name">You</span> • <span class="date">4th July, 2025</span>
          </p>
          <p class="messageContent">What have you built guys! Using it everyday. Already completed 2 books.<br>Onto my third.</p>
        </div>

        <div class="message newMessage">
          <p class="messageDetails">
            <span class="name">Saket</span> • <span class="designation">Co-Founder</span> • <span class="date">5th July, 2025</span>
          </p>
          <p class="messageContent">At this rate you’ll read half the books in my entire library within a year!<br>Lovely to see you enjoy it. Cheers on learnings.</p>
        </div>
      </div>

      <div class="sendMessage">
        <input type="text" class="messageInput" placeholder="send us a message" />
        <button class="sendButton">
          <i class="ph ph-paper-plane-tilt"></i>
        </button>
      </div>
    </div>

    <div class="holdupInfo onboardingInterfaceDetailed">
      <div class="holdupInfoContainer">
        <div class="mainOnboardingContent">
          <p>this is “holdup”. you can activate it by <br> clicking on this colorful circle or by pressing “/” <br> on your keyboard. once active you can have a <br> conversation with it. to close it, click the circle <br> or “/” again. the model being used is quite smart <br> and it knows what you are reading right now.</p>
          <button class="closeOnboarding">got it, will ask it</button>
        </div>
        <div class="arrowInfo">
          <svg width="23" height="54" viewBox="0 0 23 54" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M10.6743 6.51077C14.5946 8.83293 18.5148 11.1551 22.4351 13.4773C22.5943 13.3425 22.7535 13.2077 22.9127 13.073C22.317 12.2428 21.8882 11.1741 21.0983 10.6216C16.2825 7.25302 11.4137 3.95743 6.49908 0.734459C4.66217 -0.47014 3.5555 -0.148028 3.11899 1.83528C2.17983 6.10285 1.46434 10.4226 0.782466 14.7406C0.684833 15.359 1.11717 16.4879 1.59237 16.6847C2.72546 17.1539 3.20439 16.1131 3.4539 15.2094C3.913 13.5464 4.26614 11.8542 4.67122 10.176C4.93199 9.09568 5.20644 8.01859 6.12959 6.85052C6.98936 8.69119 8.05717 10.4651 8.67401 12.3838C11.9726 22.6445 12.7519 33.1432 11.1991 43.7951C10.7162 47.1076 9.6384 50.2528 7.21038 53.0214C9.49891 53.4134 10.8329 52.3176 11.5227 50.7288C12.5683 48.3206 13.6088 45.8219 14.0574 43.2577C16.0234 32.0213 14.906 20.9955 11.2509 10.2112C10.886 9.13439 10.4867 8.0691 10.1034 6.99846C10.2937 6.83585 10.484 6.67331 10.6743 6.51077Z" fill="black"/>
          </svg>
        </div>
      </div>

      <img class="holdupBg" src="/assets/holdupBg.svg" alt="holdup bg failed to load">
    </div>
    <br><br><br>


    <div class="holdupActiveMark">
        <svg class="blue" width="354" height="159" viewBox="0 0 354 159" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M299.665 21.485C214.563 107.919 97.9869 63.2378 50.3368 30.0933C-98.9786 143.132 115.527 176.449 282.206 149.415C361.999 136.472 384.767 -64.9485 299.665 21.485Z" fill="#2EE1FF"/>
        </svg>

        <svg class="lightYellow" width="278" height="129" viewBox="0 0 278 129" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M221.007 21.6318C101.044 104.466 37.892 47.6996 21.3123 8.96238C-36.2778 57.9248 25.7391 140.422 172.44 126.678C242.669 120.098 340.971 -61.2026 221.007 21.6318Z" fill="#FED972"/>
        </svg>

        <svg class="yellow" width="239" height="104" viewBox="0 0 239 104" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M202.536 13.8494C143.942 70.49 66.385 38.5443 34.9308 15.4913C-67.2346 88.9354 76.286 114.875 188.686 99.4841C242.495 92.1162 261.131 -42.7911 202.536 13.8494Z" fill="#FBCB04"/>
        </svg>
    </div>

    <div class="pawTab">
      <div class="mainIconPaw">
        <i class="ph ph-paw-print"></i>
      </div>
    </div>

    <script type="module" src="./src/utils.js"></script>
    <script type="module" src="./src/analytics.js"></script>
    <script type="module" src="./src/apiUrls.js"></script>
    <script type="module" src="/src/books/audioAndTextGen.js"></script>
    <script type="module" src="/src/books/bookReader.js"></script>
    <script type="module" src="/src/books/whiteBoard.js"></script>
    <script type="module" src="/src/keyboard.js"></script>
    <script type="module" src="/src/basic/inbox.js"></script>
    <script type="module" src="/src/user/userDetails.js"></script>
    <script type="module" src="./src/authorization/loggedOutRedirect.js"></script>    
    <script type="module" src="./src/basic/logo-animation.js"></script>
    <script type="module" src="./src/basic/tooltips.js"></script>
    <script type="module" src="./src/basic/thoughts.js"></script>
    <script type="module" src="./src/books/holdup-menu.js"></script>
    <script type="module" src="./src/basic/detailed-onboarding.js"></script>
    <script type="module" src="./src/basic/mode-toggle.js"></script>
    <script type="module" src="./src/basic/paw.js"></script>
    <script type="module" src="./src/basic/generating-audio.js"></script>
  </body>
</html>
